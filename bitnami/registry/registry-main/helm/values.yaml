# Default values for git-main.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.
harbor:
  replicaCount: 1


  # Modifications of bitnami values
  redis:
    enabled: false
    auth:
      existingSecret: redis-auth

    
  externalRedis:
    host: redis-master.redis
    port: 6379

  # Default user: admin
  existingSecretAdminPassword: registry-admin
  existingSecretAdminPasswordKey: password
    

    

  postgresql:
    existingSecret: "postgres-registry"
    enabled: false

  externalDatabase:
    existingSecret: "postgres-registry"
    existingSecretPasswordKey: "password"
    host: "stolon-proxy.stolon"
    port: 5432
    database: registry 

  expose:
    type: ingress
    tls:
      enabled: true
      certSource: secret
      secret:
        secretName: "registry-tls"
        notarySecretName: "registry-tls"
    ingress:
      hosts:
        core: core.local.ertia.cloud
        notary: notary.local.ertia.cloud

      annotations:
        ingress.kubernetes.io/ssl-redirect: "true"
        ingress.kubernetes.io/proxy-body-size: "0"
        kubernetes.io/ingress.class: traefik
        cert-manager.io/cluster-issuer: letsencrypt-staging
  internalTLS:
    enabled: false

  externalURL: https://core.local.ertia.cloud


