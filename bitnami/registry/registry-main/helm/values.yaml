# Default values for git-main.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.
registry:
  replicaCount: 1


  # Modifications of bitnami values
  redis:
    enabled: false
    auth:
      existingSecret: redis-auth

    
  externalRedis:
    host: redis-master.redis
    port: 6379

    

    

  postgresql:
    existingSecret: "postgres-registry"
    enabled: false

  externalDatabase:
    existingSecret: "postgres-registry"
    existingSecretPasswordKey: "password"
    host: "stolon-proxy.stolon"
    port: 5432
    database: registry 
  
  ingress:
    enabled: true
    annotations:
      kubernetes.io/ingress.class: traefik
      cert-manager.io/cluster-issuer: letsencrypt-production
    hosts:
      - host: "registry.@DOMAIN"
        paths:
          - path: /
            pathType: Prefix
      - host: "registry.@PROVIDED_DOMAIN@"
        paths:
          - path: /
            pathType: Prefix
    tls:
      - secretName: registry-tls
        hosts:
          - "registry.@DOMAIN@"

