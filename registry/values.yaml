harbor:
  expose:
    type: ingress
    ingress:
      hosts:
        core: registry.@DOMAIN@
        notary: notary.@DOMAIN@
      annotations:
        ingress.kubernetes.io/ssl-redirect: "true"
        ingress.kubernetes.io/proxy-body-size: "0"
        kubernetes.io/ingress.class: traefik
        cert-manager.io/cluster-issuer: letsencrypt-production
    tls:
      enabled: true
      certSource: secret
      secret:
        secretName: registry-tls
        notarySecretName: notary-tls

  externalURL: https://registry.@DOMAIN@

  persistence:
    enabled: true
    resourcePolicy: "keep"
    persistentVolumeClaim:
      registry:
        size: 10Gi
      chartmuseum:
        size: 1Gi
      jobservice:
        size: 1Gi
      database:
        size: 1Gi
      redis:
        size: 1Gi
      trivy:
        size: 10Gi

  logLevel: info

  ## An empty string generates a psuedo-random password
  ## Otherwise, this value is used
  harborAdminPassword: ""

  # The secret key used for encryption. Must be a string of 16 chars.
  ## An empty string generates a psuedo-random password
  ## Otherwise, this value is used
  secretKey: ""

  registry:
    credentials:
      ## An empty string generates a psuedo-random password
      ## Otherwise, this value is used
      password: ""

  database:
    type: internal
    internal:
      ## An empty string generates a psuedo-random password
      ## Otherwise, this value is used
      password: ""

    # Not in use as there is DB migration "issue" when using Yugabyte DB.
    external:
      host: "yb-tservers.database"
      port: "5433"
      username: "yugabyte"
      password: ""
      coreDatabase: "registry"
      notaryServerDatabase: "notary_server"
      notarySignerDatabase: "notary_signer"

  metrics:
    enabled: true
    serviceMonitor:
      enabled: true
      additionalLabels:
        release: monitoring
