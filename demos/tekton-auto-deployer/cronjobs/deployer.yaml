apiVersion: batch/v1
kind: CronJob
metadata:
  name: tekton-fake-deployer
spec:
  schedule: "* * * * *"
  #schedule: "*/5 * * * *"
  jobTemplate:
    spec:
      template:
        spec:
          containers:
          - name: tekton-fake-deployer
            image: curlimages/curl:7.72.0
            imagePullPolicy: IfNotPresent
            command:
            - /bin/sh
            - -ec
            - 'curl -H "Content-Type: application/json" -X POST -d "{\"ref\":\"refs/heads/main\",\"before\":\"0000000000000000000000000000000000000000\",\"after\":\"0000000000000000000000000000000000000000\",\"compare_url\":\"http://git.7vvsugug22fko222.ertia.cloud/ertia/test-repo/compare/0000000000000000000000000000000000000000...0000000000000000000000000000000000000000\",\"commits\":[{\"id\":\"0000000000000000000000000000000000000000\",\"message\":\"This is a fake commit\",\"url\":\"https://github.com/morero/sample-golang/commit/0000000000000000000000000000000000000000\",\"author\":{\"name\":\"Ghost\",\"email\":\"\",\"username\":\"\"},\"committer\":{\"name\":\"Ghost\",\"email\":\"\",\"username\":\"\"},\"verification\":null,\"timestamp\":\"0001-01-01T00:00:00Z\",\"added\":null,\"removed\":null,\"modified\":null}],\"head_commit\":{\"id\":\"0000000000000000000000000000000000000000\",\"message\":\"This is a fake commit\",\"url\":\"https://github.com/morero/sample-golang/commit/0000000000000000000000000000000000000000\",\"author\":{\"name\":\"Ghost\",\"email\":\"\",\"username\":\"\"},\"committer\":{\"name\":\"Ghost\",\"email\":\"\",\"username\":\"\"},\"verification\":null,\"timestamp\":\"0001-01-01T00:00:00Z\",\"added\":null,\"removed\":null,\"modified\":null},\"repository\":{\"id\":1,\"owner\":{\"id\":3,\"login\":\"ertia\",\"full_name\":\"Ertia\",\"email\":\"\",\"avatar_url\":\"http://git.7vvsugug22fko222.ertia.cloud/avatars/ac160200479dd8140cb82edf25ae0862\",\"language\":\"\",\"is_admin\":false,\"last_login\":\"0001-01-01T00:00:00Z\",\"created\":\"2022-12-04T19:31:31Z\",\"restricted\":false,\"active\":false,\"prohibit_login\":false,\"location\":\"\",\"website\":\"\",\"description\":\"Ertia organisation - NOT FOR USE\",\"visibility\":\"limited\",\"followers_count\":0,\"following_count\":0,\"starred_repos_count\":0,\"username\":\"ertia\"},\"name\":\"test-repo\",\"full_name\":\"ertia/test-repo\",\"description\":\"\",\"empty\":true,\"private\":true,\"fork\":false,\"template\":false,\"parent\":null,\"mirror\":false,\"size\":76,\"language\":\"\",\"languages_url\":\"http://git.7vvsugug22fko222.ertia.cloud/api/v1/repos/ertia/test-repo/languages\",\"html_url\":\"http://git.7vvsugug22fko222.ertia.cloud/ertia/test-repo\",\"ssh_url\":\"ssh://git@git.7vvsugug22fko222.ertia.cloud:2222/ertia/test-repo.git\",\"clone_url\":\"https://github.com/morero/sample-golang.git\",\"original_url\":\"\",\"website\":\"\",\"stars_count\":0,\"forks_count\":0,\"watchers_count\":1,\"open_issues_count\":0,\"open_pr_counter\":0,\"release_counter\":0,\"default_branch\":\"main\",\"archived\":false,\"created_at\":\"2022-12-04T19:55:00Z\",\"updated_at\":\"2022-12-04T19:55:00Z\",\"permissions\":{\"admin\":false,\"push\":false,\"pull\":false},\"has_issues\":true,\"internal_tracker\":{\"enable_time_tracker\":true,\"allow_only_contributors_to_track_time\":true,\"enable_issue_dependencies\":true},\"has_wiki\":true,\"has_pull_requests\":true,\"has_projects\":true,\"ignore_whitespace_conflicts\":false,\"allow_merge_commits\":true,\"allow_rebase\":true,\"allow_rebase_explicit\":true,\"allow_squash_merge\":true,\"default_merge_style\":\"merge\",\"avatar_url\":\"\",\"internal\":false,\"mirror_interval\":\"\",\"mirror_updated\":\"0001-01-01T00:00:00Z\",\"repo_transfer\":null},\"pusher\":{\"id\":1,\"login\":\"gitea\",\"full_name\":\"\",\"email\":\"gitea@local.domain\",\"avatar_url\":\"http://git.7vvsugug22fko222.ertia.cloud/avatars/0642e3e25d9a91d2519388e6e4dbc915\",\"language\":\"\",\"is_admin\":false,\"last_login\":\"0001-01-01T00:00:00Z\",\"created\":\"2022-12-04T19:31:09Z\",\"restricted\":false,\"active\":false,\"prohibit_login\":false,\"location\":\"\",\"website\":\"\",\"description\":\"\",\"visibility\":\"public\",\"followers_count\":0,\"following_count\":0,\"starred_repos_count\":0,\"username\":\"gitea\"},\"sender\":{\"id\":1,\"login\":\"gitea\",\"full_name\":\"\",\"email\":\"gitea@local.domain\",\"avatar_url\":\"http://git.7vvsugug22fko222.ertia.cloud/avatars/0642e3e25d9a91d2519388e6e4dbc915\",\"language\":\"\",\"is_admin\":false,\"last_login\":\"0001-01-01T00:00:00Z\",\"created\":\"2022-12-04T19:31:09Z\",\"restricted\":false,\"active\":false,\"prohibit_login\":false,\"location\":\"\",\"website\":\"\",\"description\":\"\",\"visibility\":\"public\",\"followers_count\":0,\"following_count\":0,\"starred_repos_count\":0,\"username\":\"gitea\"}}" el-tekton-build-el.tekton-pipelines:8080'
          restartPolicy: OnFailure
